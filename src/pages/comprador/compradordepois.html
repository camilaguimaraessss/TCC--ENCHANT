<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css"
    />
    <link rel="stylesheet" href="https://phosphoricons.com?q=%22menu%22" />
    <link rel="stylesheet" href="../CSS/barraheadercomprador.css" />
    <link rel="stylesheet" href="../CSS/dashoboard.css">
    <script src="../JS/barraheadercomprador.js"></script>
    <script src="../JS/dashboard.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script type="module" src="https://unpkg.com/@phosphor-icons/webcomponents@2.1/dist/index.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/@phosphor-icons/web@2.1/src/regular/style.css" />
  </head>
<body>
    <header>
      <nav class="navbar navbar-expand-lg">
        <div class="container-fluid">
          <button
            id="icone2"
            class="navbar-toggler"
            type="button"
            onclick="toggleSidebar()"
          >
            <i style="font-size: 12px" class="navbar-toggler-icon"></i>
          </button>

          <button class="upload-btn" id="imgheader">
            <label for="imageUpload"
              ><i class="bi bi-plus" id="btnn"></i
            ></label>
            <input
              type="file"
              id="imageUpload"
              accept="image/*"
              placeholder="Insira sua logo"
            />
          </button>

          <button
            id="icone"
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarNav"
          >
            <span style="font-size: 20px" class="bi bi-three-dots"></span>
          </button>
         
          <div class="collapse navbar-collapse item" id="navbarNav">
            <ul id="abcd" class="navbar-nav mx-auto">
              <li class="nav-item">
                <a class="nav-link" href="quemsomos2.html">Quem somos?</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="saibamais2.html">Saiba mais</a>
              </li>
              <li class="nav-item profile-dropdown">
                <button
                  class="btn btn-link"
                  id="usuario"
                  style="font-size: 14px; text-decoration: none"
                >
                  <img
                    id="userPhoto"
                    src=""
                    alt="Foto do Usuário"
                    style="
                      width: 40px;
                      height: 40px;
                      border-radius: 50%;
                      object-fit: cover;
                      display: none;
                    "
                  />
                  <i
                    id="userIcon"
                    class="bi bi-person-circle"
                    style="font-size: 35px;"
                  ></i>
                  <span>Nome do Usuário</span>
                </button>
                <div id="dropzinho" class="dropdown-menu">
                  <a class="dropdown-item" href="perfilcomprador.html"
                    ><i class="bi bi-person"></i> Perfil</a
                  >
                  <a class="dropdown-item" href="compradorantes.html"
                    ><i class="bi bi-box-arrow-right"></i> Sair</a
                  >
                </div>
              </li>
            </ul>
          </div>
        </div>
      </nav>
    </header>

     <aside class="sidebar" id="sidebar">
        <nav>
          <a href="#"><i class="bi bi-list"></i><span></span></a>
          <a href="mapa.html"
            ><i class="bi bi-map"></i
            ><span style="font-size: 14px">Mapa</span></a
          >
          <a href="pontosdeabrigo.html"
            ><i class="bi bi-geo"></i
            ><span style="font-size: 14px">Pontos de abrigo</span></a
          >
          <a href="ajudamedica.html"
            ><i class="bi bi-truck"></i
            ><span style="font-size: 14px">Ajuda médica</span></a
          >
          <a href="doacao.html"
            ><i class="bi bi-box"></i
            ><span style="font-size: 14px">Doação</span></a
          >
        
            <a href="pontosdecoleta.html"
            ><i class="bi bi-geo-alt-fill"></i
            ><span style="font-size: 14px">Pontos de coleta</span></a
          >
      
          <a href="historicodoacoes.html"
            ><i class="bi bi-journal"></i
            ><span style="font-size: 14px">Histórico de doação</span></a
          >
          <a href="politica2.html"
            ><i class="bi bi-file-earmark"></i
            ><span style="font-size: 14px">Política de privacidade</span></a
          >
          <a href="transparencia1.html"
            > <i class="bi bi-search"
            ></i><span style="font-size: 14px">Transparência</span></a
          >
          <a href="verifição.html"
            > <i class="bi bi-check-circle-fill"></i>
            <span style="font-size: 14px">Verificação de doações</span></a
          >
          <a href="ajuda.html"
            ><i class="bi bi-info-circle"></i
            ><span style="font-size: 14px">Ajuda</span></a
          >

        </nav>
      </aside>

      <div id="caixa-principal">
        <div id="coisas-caixa">
          <div
            style="
              display: flex;
              justify-content: flex-start;
              padding: 1.5rem;
              height: 80px;
            "
          >
            <button class="botao-sair" id="botao-sair">
              <i class="bi bi-x-circle"></i>
            </button>
          </div>
          <div id="instagramgeral">
            <h2 id="texto-caixa">Insira aqui o Instagram da sua empresa</h2>
            <h2 id="texto-caixa3">
              Aqui você pode inserir o Instagram da sua empresa!
            </h2>
            <hr style="margin-top: 1px" />
            <input
              type="text"
              id="instagram"
              placeholder="Digite seu @ ou nome de usuário"
            />

            <div id="confirmar">
              <button id="botaocaixa" onclick="gerarLinkInstagram()">
                Confirmar
              </button>
            </div>
            <div id="linkContainer"></div>
            <button id="editarLink" style="display: none">Editar</button>
          </div>
        </div>
      </div>

      <div id="caixa-principal2">
        <div id="coisas-caixa2">
          <div style=" display: flex; justify-content: flex-start; padding: 1.5rem;height: 80px;">
            <button class="botao-sair" id="botao-sair2">
              <i class="bi bi-x-circle"></i>
            </button>
          </div>
          <div id="facebookgeral">
            <h2 id="texto-caixa2">Insira aqui o Facebook da sua empresa</h2>
            <h2 id="texto-caixa4">
              Aqui você pode inserir o Facebook da sua empresa!
            </h2>
            <hr style="margin-top: 1px" />
            <input
              type="text"
              id="facebook2"
              placeholder="Digite seu @ ou nome de usuário"
            />
            <div id="confirmar2">
              <button id="botaocaixa2" onclick="gerarLinkFacebook()">
                Confirmar
              </button>
            </div>
            <div id="linkContainer2"></div>
            <button id="editarLink2" style="display: none">Editar</button>
          </div>
        </div>
      </div>

      <main id="main">
        <div class="container">
          <div class="header">
              <div class="header-buttons">
                  <button class="btn btn-outline" onclick="gerarRelatorio()">Relatório de doações</button>
                  <button class="btn btn-primary" onclick="gerarPDF()">Gerar PDF</button>
              </div>
              <div class="date-filters">
                  <div class="btn-group" role="group">
                      <button type="button" class="btn btn-date-filter" onclick="atualizarDadosGlobais('dia')">Dia</button>
                      <button type="button" class="btn btn-date-filter" onclick="atualizarDadosGlobais('semana')">Semana</button>
                      <button type="button" class="btn btn-date-filter active" onclick="atualizarDadosGlobais('mes')">Mês</button>
                      <button type="button" class="btn btn-date-filter" onclick="atualizarDadosGlobais('ano')">Ano</button>
                  </div>
                  <div class="custom-date-range">
                      <i class="bi bi-calendar3"></i>
                      <input type="date" id="startDate" onchange="atualizarDadosGlobais('custom')">
                      <span>até</span>
                      <input type="date" id="endDate" onchange="atualizarDadosGlobais('custom')">
                  </div>
              </div>
          </div>
          
          <div class="summary-cards-container">
            <div class="summary-card">
              <div class="summary-card-icon"><i class="bi bi-box-seam"></i></div>
              <div class="summary-card-info">
                <div class="summary-card-value" id="summary-total-kg">--</div>
                <div class="summary-card-label">Total Arrecadado (Kg)</div>
              </div>
            </div>
            <div class="summary-card">
              <div class="summary-card-icon"><i class="bi bi-gem"></i></div>
              <div class="summary-card-info">
                <div class="summary-card-value" id="summary-media-kg">--</div>
                <div class="summary-card-label">Média por Doação (Kg)</div>
              </div>
            </div>
            <div class="summary-card">
              <div class="summary-card-icon"><i class="bi bi-person-plus"></i></div>
              <div class="summary-card-info">
                <div class="summary-card-value" id="summary-novos-doadores">--</div>
                <div class="summary-card-label">Novos Doadores</div>
              </div>
            </div>
            <div class="summary-card">
              <div class="summary-card-icon"><i class="bi bi-check-circle"></i></div>
              <div class="summary-card-info">
                <div class="summary-card-value" id="summary-taxa-sucesso">--</div>
                <div class="summary-card-label">Taxa de Sucesso</div>
              </div>
            </div>
          </div>

          <div class="main-content">
              <div class="chart-section">
                  <div class="chart-header">
                      <h2 class="chart-title">Raio de Coleta kg</h2>
                      </div>
                  
                  <div class="chart-container">
                      <canvas id="doacoesChart"></canvas>
                  </div>
                  
                  <div class="chart-legend">
                      <div class="legend-item">
                          <div class="legend-color" style="background: #72330f;"></div>
                          <span>Ativa alta variação</span>
                      </div>
                      <div class="legend-item">
                          <div class="legend-color" style="background: #492a0f;"></div>
                          <span>Ativa baixa variação</span>
                      </div>
                  </div>
              </div>

              <div class="dash-sidebar dashboard-sidebar">
                  <div class="dash-sidebar-section">
                      <div class="dash-sidebar-title">Pontos mais ativos</div>
                      <div id="pontos-coleta">
                          </div>
                  </div>
              </div>
          </div>

          <div class="stats-grid">
              <div class="stat-card-1">
                  <div class="stat-number" id="stat-cadastros">30</div>
                  <div class="stat-label">Número de doadores para Roupas</div>
                  <div class="stat-change">Meta: 150 cadastros</div>
              </div>
              
              <div class="stat-card-2">
                  <div class="stat-number" id="stat-doacoes">90</div>
                  <div class="stat-label">Número de doações para Alimentos</div>
                  <div class="stat-change">Meta: 200 doações</div>
              </div>
              
              <div class="stat-card-3" style="border: 2px solid #693d19;">
                  <div class="stat-number" id="stat-pendentes">20</div>
                  <div class="stat-label">Número de doações para Produtos de Higiene</div>
                  <div class="stat-change">Meta: 150 graduações</div>
              </div>
          </div>

          <div class="stats-grid">
              <div class="stat-card-4">
                  <div class="stat-number" id="stat-triadas">50</div>
                  <div class="stat-label">Número de doações Móveis</div>
                  <div class="stat-change">Meta: 200 triados</div>
              </div>
              
              <div class="stat-card-5">
                  <div class="stat-number" id="stat-finalizadas">100</div>
                  <div class="stat-label">Número de doações para Livros e brinquedos</div>
                  <div class="stat-change">Meta: 200 finalizadas</div>
              </div>
              
              <div class="stat-card-6">
                  <div class="stat-number" id="stat-tempo">05</div>
                  <div class="stat-label">Número de doações para Roupas de cama e Cobertores</div>
                  <div class="stat-change">Meta: 50 utilizados</div>
              </div>
          </div>

          <div style="display: grid; grid-template-columns: 300px 1fr; gap: 20px;">
              <div>
                  <div class="achievement-card">
                      <div class="achievement-icon"></div>
                      <div class="achievement-text">Meta mensal de doações atingida com sucesso!</div>
                  </div>
                  
                  <div class="progress-section">
                      <div class="sidebar-title">Porcentual de completude</div>
                      <div style="text-align: center; font-size: 36px; font-weight: 700; color: #492a0f;">50%</div>
                  </div>
              </div>
              
              <div class="progress-section">
                  <div class="progress-item">
                      <div class="progress-icon"></div>
                      <div class="progress-info">
                          <div class="progress-label">Entradas</div>
                          <div class="progress-bar">
                              <div class="progress-fill" style="width: 75%;"></div>
                          </div>
                      </div>
                      <div class="progress-percent">75%</div>
                  </div>
                  
                  <div class="progress-item">
                      <div class="progress-icon"></div>
                      <div class="progress-info">
                          <div class="progress-label">Por outras Organizações não Governamnetais</div>
                          <i class="ph-light ph-building-office"></i>
                          <div class="progress-bar">
                              <div class="progress-fill" style="width: 60%;"></div>
                          </div>
                      </div>
                      <div class="progress-percent">60%</div>
                  </div>
                  
                  <div class="progress-item">
                      <div class="progress-icon"></div>
                      <div class="progress-info">
                          <div class="progress-label">Por Instituições públicas e privadas</div>
                          <i class="ph-light ph-building"></i>
                          <div class="progress-bar">
                              <div class="progress-fill" style="width: 45%;"></div>
                          </div>
                      </div>
                      <div class="progress-percent">45%</div>
                  </div>
                  
                  <div class="progress-item">
                      <div class="progress-icon"></div>
                      <div class="progress-info">
                          <div class="progress-label">Por Pessoas</div>
                          <i class="ph ph-users"></i>
                          <div class="progress-bar">
                              <div class="progress-fill" style="width: 80%;"></div>
                          </div>
                      </div>
                      <div class="progress-percent">80%</div>
                  </div>
                  
                  <div class="progress-item">
                      <div class="progress-icon"></div>
                      <div class="progress-info">
                          <div class="progress-label">Número de Donatários</div>
                          <i class="ph-light ph-users-three"></i>
                          <div class="progress-bar">
                              <div class="progress-fill" style="width: 30%;"></div>
                          </div>
                      </div>
                      <div class="progress-percent">30%</div>
                  </div>
              </div>
          </div>
        </div>
      </main>
    </div>

    <footer>
      <div class="footer-container">
        <div class="footer-left">
          <button class="upload-btn" id="imgfooter">
            <label for="imgUpload"><i class="bi bi-plus" id="btnn2"></i></label>
            <input type="file" id="imgUpload" accept="image/*" />
          </button>

          <p>
            De forma alguma o site foi criado com o intuito de desviar os termos
            relacionados à política de privacidade do cadastrante. O site está
            disponível para toda e qualquer ajuda em relação aos contatos. O
            site que aqui explica não aceita qualquer violência verbal, sendo
            contra toda e qualquer atividade agressiva.
          </p>
          <p>© 2025 ENCHANT Brasil</p>
        </div>

        <div class="footer-right">
          <div class="footer-column">
            <h3>MAIS INFORMAÇÕES</h3>
            <a
              href="saibamais1.html"
              title="Conheça mais sobre o ENCHANT - clique"
              >Conheça mais sobre o site</a
            >
          </div>
          <div class="footer-column" title="PROTEÇÃO DE DADOS - clique">
            <h3>PROTEÇÃO DE DADOS</h3>
            <a href="politica1.html">Política de privacidade</a>
          </div>
          <div class="footer-column" title="ACOMPANHE NOSSAS REDES - clique">
            <h3>ACOMPANHE NOSSAS REDES</h3>

            <button id="botao">Instagram</button>
            <button id="facebook">Facebook</button>
          </div>
        </div>
      </div>
    </footer>

    <div class="modal fade" id="erroSenhaModal" tabindex="-1" aria-labelledby="erroSenhaModalLabel" aria-hidden="true">
      <div class="modal-dialog">
          <div class="modal-content">
              <div class="modal-header">
                  <h5 class="modal-title" id="erroSenhaModalLabel">Atenção</h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fechar"></button>
              </div>
              <div class="modal-body" id="erroSenhaModalBody">
                  </div>
              <div class="modal-footer">
                  <button id="botao-validar" type="button" class="btn btn-primary" data-bs-dismiss="modal">Entendi</button>
              </div>
          </div>
      </div>
    </div>

    <div class="modal fade" id="relatorioModal" tabindex="-1" aria-labelledby="relatorioModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="relatorioModalLabel"><i class="bi bi-file-earmark-text-fill"></i> Relatório Resumido de Doações</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <p>Este é um resumo dos dados para o período selecionado. Para uma análise completa, clique em "Ver Relatório Detalhado".</p>
            <div class="relatorio-grid">
              <div class="relatorio-item">
                <span class="relatorio-label">Total Arrecadado (Kg)</span>
                <span class="relatorio-value" id="modal-total-kg">--</span>
              </div>
              <div class="relatorio-item">
                <span class="relatorio-label">Novos Doadores</span>
                <span class="relatorio-value" id="modal-novos-doadores">--</span>
              </div>
              <div class="relatorio-item">
                <span class="relatorio-label">Doações Registradas</span>
                <span class="relatorio-value" id="modal-doacoes">--</span>
              </div>
              <div class="relatorio-item">
                <span class="relatorio-label">Doações Finalizadas</span>
                <span class="relatorio-value" id="modal-finalizadas">--</span>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
            <a href="./historicodoacoes.html" class="btn btn-primary">Ver Relatório Detalhado</a>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>